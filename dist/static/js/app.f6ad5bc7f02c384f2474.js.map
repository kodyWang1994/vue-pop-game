{"version":3,"sources":["webpack:///./src/App.vue?ba8c","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/HelloWorld.vue","webpack:///./src/components/HelloWorld.vue?20de","webpack:///./src/components/HelloWorld.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","HelloWorld","data","x","y","blockColors","colors","currentSource","targetSource","step","showTip","clearCount","source","showStepOverTip","lessCount","stepOverSource","over","mounted","console","warn","width","window","innerWidth","height","innerHeight","canvas","document","getElementById","ctx","getContext","fillStyle","fillRect","init","methods","click","e","_this","parseInt","clientX","clientY","index","underscore_default","a","has","getNeedCleanBlock","setTimeout","needCleanBlock","length","clearing","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","key","value","clearRect","err","return","addSource","blockDown","num","colBlock","groupBy","col","colCleanValue","colValue","i","max","push","needDownBlocks","difference","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","isEmpty","needDownIndex","shift","color","leftMove","size","leftMoveCols","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","range","sortBy","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","colIndex","lastIndex","checkIsCanClear","hasNearbyBlock","gameOver","hasNearby","_this2","hasNeedClearBlock","indexOf","startGame","strokeStyle","rect","j","sample","stroke","beginPath","restartGame","_this3","components_HelloWorld","_vm","staticClass","on","_v","_s","_e","directives","rawName","expression","src_components_HelloWorld","HelloWorld_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","component","config","productionTip","el","components","App","template"],"mappings":"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","file":"static/js/app.f6ad5bc7f02c384f2474.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-27c08a00\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-27c08a00\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-27c08a00\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\nbody {\n  margin: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n  <div class=\"container\">\n    <canvas id=\"myCanvas\" @click=\"click\"></canvas>\n    <div class=\"game-panel\">\n      <div>第{{ step }}关</div>\n      <div>目标分数： {{targetSource}}</div>\n      <div>当前分数： {{currentSource}}</div>\n      <div class=\"tip\" v-if=\"showTip\">消除{{clearCount}}个，获得{{source}}分</div>\n      <div class=\"tip\" v-show=\"showStepOverTip\">剩余{{lessCount}}个，奖励{{stepOverSource}}分</div>\n    </div>\n    <div v-if=\"over\" class=\"game-over\">\n      <div class=\"over-text\">游戏结束</div>\n      <div class=\"restart\" @click=\"restartGame\">重新开始</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport _ from 'underscore'\n\nexport default {\n  name: 'HelloWorld',\n  data () {\n    return {\n      x: 20,\n      y: 120,\n      blockColors: {},\n      colors: ['#b23aee', '#ff7f24', '#0000ff', '#008000'],\n      currentSource: 0,\n      targetSource: 1500,\n      step: 1,\n      showTip: false,\n      clearCount: 0,\n      source: 0,\n      showStepOverTip: false,\n      lessCount: 0,\n      stepOverSource: 0,\n      over: false\n    }\n  },\n  mounted () {\n    console.warn('Design by Kody Wang, Thank you, play my game!')\n    let width = window.innerWidth\n    let height = window.innerHeight\n    this.x = (width - 320) / 2\n    this.y = (height - 320) / 2\n    this.canvas = document.getElementById('myCanvas')\n    this.ctx = this.canvas.getContext('2d')\n    this.canvas.width = width\n    this.canvas.height = height\n    this.ctx.fillStyle = '#FFF8DC'\n    this.ctx.fillRect(0, 0, width, height)\n    this.init()\n  },\n  methods: {\n    click (e) {\n      let x = parseInt((e.clientX - this.x) / 32)\n      let y = parseInt(parseInt((e.clientY - this.y) / 32))\n      if (x < 0 || x > 9 || y < 0 || y > 9) {\n        return\n      }\n      let index = parseInt(y + '' + x)\n      if (_.has(this.blockColors, index)) {\n        this.getNeedCleanBlock(index, [index])\n        setTimeout(() => {\n          if (this.needCleanBlock.length >= 2) {\n            this.clearing(this.needCleanBlock)\n          }\n        }, 300)\n      }\n    },\n    clearing (needCleanBlock) {\n      for (const key of needCleanBlock) {\n        this.ctx.clearRect(this.x + (parseInt(key % 10) * 32), this.y + (parseInt(key / 10) * 32), 30, 30)\n        delete this.blockColors[key]\n      }\n      this.addSource(needCleanBlock)\n      this.blockDown(needCleanBlock)\n    },\n    addSource (needCleanBlock) {\n      let num = needCleanBlock.length\n      this.source = num * num * 5\n      this.clearCount = num\n      this.showTip = true\n      this.currentSource += this.source\n    },\n    blockDown (needCleanBlock) {\n      let colBlock = _.groupBy(needCleanBlock, num => {\n        return num % 10\n      })\n      for (const col in colBlock) {\n        let colCleanValue = colBlock[col]\n        let colMax = _.max(colCleanValue)\n        let colValue = []\n        for (let i = colMax; i >= 0; i -= 10) {\n          colValue.push(i)\n        }\n        let needDownBlocks = _.difference(colValue, colCleanValue)\n        for (const index of colValue) {\n          if (!_.isEmpty(needDownBlocks)) {\n            let needDownIndex = needDownBlocks.shift()\n            if (_.has(this.blockColors, needDownIndex)) {\n              let color = this.blockColors[needDownIndex]\n              this.blockColors[index] = color\n              this.ctx.fillStyle = color\n              this.ctx.fillRect(this.x + (parseInt(index % 10) * 32), this.y + (parseInt(index / 10) * 32), 30, 30)\n            } else {\n              this.ctx.clearRect(this.x + (parseInt(index % 10) * 32), this.y + (parseInt(index / 10) * 32), 30, 30)\n              delete this.blockColors[index]\n            }\n          } else {\n            this.ctx.clearRect(this.x + (parseInt(index % 10) * 32), this.y + (parseInt(index / 10) * 32), 30, 30)\n            delete this.blockColors[index]\n          }\n        }\n      }\n      this.leftMove()\n    },\n    leftMove () {\n      let colBlock = _.groupBy(this.blockColors, (color, index) => {\n        return index % 10\n      })\n      if (_.size(colBlock) < 10) {\n        let leftMoveCols = []\n        for (let i of _.range(10)) {\n          if (!_.has(colBlock, i)) {\n            leftMoveCols.push(i)\n          }\n        }\n        leftMoveCols = _.sortBy(leftMoveCols, num => {\n          return -num\n        })\n        for (let index of leftMoveCols) {\n          for (let col = index + 1; col <= 9; col++) {\n            for (let colIndex of _.range(col, 100, 10)) {\n              if (_.has(this.blockColors, colIndex)) {\n                let color = this.blockColors[colIndex]\n                let lastIndex = colIndex - 1\n                this.blockColors[lastIndex] = color\n                this.ctx.fillStyle = color\n                this.ctx.fillRect(this.x + (parseInt(lastIndex % 10) * 32), this.y + (parseInt(lastIndex / 10) * 32), 30, 30)\n                this.ctx.clearRect(this.x + (parseInt(colIndex % 10) * 32), this.y + (parseInt(colIndex / 10) * 32), 30, 30)\n                delete this.blockColors[colIndex]\n              }\n            }\n          }\n        }\n      }\n      this.checkIsCanClear()\n    },\n    checkIsCanClear () {\n      for (const key in this.blockColors) {\n        if (this.hasNearbyBlock(key)) {\n          return\n        }\n      }\n      this.gameOver()\n    },\n    hasNearbyBlock (index) {\n      let color = this.blockColors[index]\n      let hasNearby = false\n      if (parseInt((index + 1) / 10) === parseInt(index / 10) && color === this.blockColors[index + 1]) {\n        hasNearby = true\n      }\n      if (parseInt((index - 1) / 10) === parseInt(index / 10) && color === this.blockColors[index - 1]) {\n        hasNearby = true\n      }\n      if (color === this.blockColors[index + 10]) {\n        hasNearby = true\n      }\n      if (color === this.blockColors[index - 10]) {\n        hasNearby = true\n      }\n      return hasNearby\n    },\n    getNeedCleanBlock (index, needCleanBlock) {\n      let color = this.blockColors[index]\n      let hasNeedClearBlock = false\n      if (parseInt((index + 1) / 10) === parseInt(index / 10) && _.indexOf(needCleanBlock, index + 1) === -1 && color === this.blockColors[index + 1]) {\n        hasNeedClearBlock = true\n        needCleanBlock.push(index + 1)\n        setTimeout(() => {\n          this.getNeedCleanBlock(index + 1, needCleanBlock)\n        }, 0)\n      }\n      if (parseInt((index - 1) / 10) === parseInt(index / 10) && _.indexOf(needCleanBlock, index - 1) === -1 && color === this.blockColors[index - 1]) {\n        hasNeedClearBlock = true\n        needCleanBlock.push(index - 1)\n        setTimeout(() => {\n          this.getNeedCleanBlock(index - 1, needCleanBlock)\n        }, 0)\n      }\n      if (_.indexOf(needCleanBlock, index + 10) === -1 && color === this.blockColors[index + 10]) {\n        hasNeedClearBlock = true\n        needCleanBlock.push(index + 10)\n        setTimeout(() => {\n          this.getNeedCleanBlock(index + 10, needCleanBlock)\n        }, 0)\n      }\n      if (_.indexOf(needCleanBlock, index - 10) === -1 && color === this.blockColors[index - 10]) {\n        hasNeedClearBlock = true\n        needCleanBlock.push(index - 10)\n        setTimeout(() => {\n          this.getNeedCleanBlock(index - 10, needCleanBlock)\n        }, 0)\n      }\n      if (!hasNeedClearBlock) {\n        this.needCleanBlock = needCleanBlock\n        return needCleanBlock\n      }\n    },\n    startGame () {\n      this.ctx.strokeStyle = '#ccc'\n      this.ctx.rect(this.x, this.y, 320, 320)\n\n      for (const i in _.range(10)) {\n        for (const j in _.range(10)) {\n          let index = parseInt(i + j)\n          this.ctx.fillStyle = _.sample(this.colors)\n          this.blockColors[index] = this.ctx.fillStyle\n          this.ctx.fillRect(this.x + (j * 32), this.y + (i * 32), 30, 30)\n        }\n      }\n      this.ctx.stroke()\n      this.ctx.beginPath()\n    },\n    restartGame () {\n      this.currentSource = 0\n      this.step = 1\n      this.targetSource = 1500\n      this.showStepOverTip = false\n      this.over = false\n      this.startGame()\n    },\n    gameOver () {\n      this.lessCount = _.size(this.blockColors)\n      this.stepOverSource = this.lessCount > 10 ? 0 : (10 - this.lessCount) * 100\n      this.showStepOverTip = true\n      this.currentSource += this.stepOverSource\n      if (this.currentSource < this.targetSource) {\n        this.over = true\n      } else {\n        this.step += 1\n        this.targetSource = 1500 + (this.step - 1) * 3000\n        setTimeout(() => {\n          this.showStepOverTip = false\n          this.startGame()\n        }, 2000)\n      }\n    },\n    init () {\n      this.startGame()\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.container {\n  overflow: hidden;\n}\n\n.game-over {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  text-align: center;\n}\n\n.game-panel {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  text-align: center;\n}\n\n.tip {\n  color: tomato;\n}\n\n.over-text {\n  margin-top: 150px;\n  font-weight: bold;\n  animation: over-animation 2s linear .1s infinite alternate;\n}\n\n.restart {\n  margin-top: 30px;\n  padding: 10px 15px;\n  background-color: tomato;\n  border-radius: 15px;\n  display: inline-block;\n  color: #fff;\n}\n\n@keyframes over-animation {\n  from {font-size: 15px;}\n  to {font-size: 25px;}\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HelloWorld.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('canvas',{attrs:{\"id\":\"myCanvas\"},on:{\"click\":_vm.click}}),_vm._v(\" \"),_c('div',{staticClass:\"game-panel\"},[_c('div',[_vm._v(\"第\"+_vm._s(_vm.step)+\"关\")]),_vm._v(\" \"),_c('div',[_vm._v(\"目标分数： \"+_vm._s(_vm.targetSource))]),_vm._v(\" \"),_c('div',[_vm._v(\"当前分数： \"+_vm._s(_vm.currentSource))]),_vm._v(\" \"),(_vm.showTip)?_c('div',{staticClass:\"tip\"},[_vm._v(\"消除\"+_vm._s(_vm.clearCount)+\"个，获得\"+_vm._s(_vm.source)+\"分\")]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showStepOverTip),expression:\"showStepOverTip\"}],staticClass:\"tip\"},[_vm._v(\"剩余\"+_vm._s(_vm.lessCount)+\"个，奖励\"+_vm._s(_vm.stepOverSource)+\"分\")])]),_vm._v(\" \"),(_vm.over)?_c('div',{staticClass:\"game-over\"},[_c('div',{staticClass:\"over-text\"},[_vm._v(\"游戏结束\")]),_vm._v(\" \"),_c('div',{staticClass:\"restart\",on:{\"click\":_vm.restartGame}},[_vm._v(\"重新开始\")])]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fe22f71a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fe22f71a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HelloWorld.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fe22f71a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fe22f71a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport HelloWorld from '@/components/HelloWorld'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'HelloWorld',\n      component: HelloWorld\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}