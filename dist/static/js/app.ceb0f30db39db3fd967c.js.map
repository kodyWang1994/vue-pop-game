{"version":3,"sources":["webpack:///./src/App.vue?ba8c","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/HelloWorld.vue","webpack:///./src/components/HelloWorld.vue?193e","webpack:///./src/components/HelloWorld.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","HelloWorld","data","x","y","blockColors","colors","currentSource","targetSource","step","showTip","clearCount","source","showStepOverTip","lessCount","stepOverSource","over","mounted","console","warn","width","window","innerWidth","height","innerHeight","canvas","document","getElementById","ctx","getContext","fillStyle","fillRect","init","methods","click","e","_this","parseInt","clientX","clientY","index","underscore_default","a","has","getNeedCleanBlock","setTimeout","needCleanBlock","length","clearing","_this2","xx","yy","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","key","value","clearRect","err","return","addSource","blockDown","requestAnimationFrame","draw","i","strokeStyle","rect","stroke","range","j","num","colBlock","groupBy","col","colCleanValue","colValue","max","push","needDownBlocks","difference","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","isEmpty","needDownIndex","shift","color","leftMove","size","leftMoveCols","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","sortBy","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","colIndex","lastIndex","checkIsCanClear","hasNearbyBlock","gameOver","hasNearby","_this3","hasNeedClearBlock","indexOf","startGame","sample","beginPath","restartGame","_this4","components_HelloWorld","_vm","staticClass","on","_v","_s","_e","directives","rawName","expression","src_components_HelloWorld","HelloWorld_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","component","config","productionTip","el","components","App","template"],"mappings":"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","file":"static/js/app.ceb0f30db39db3fd967c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-27c08a00\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-27c08a00\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-27c08a00\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\nbody {\n  margin: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n  <div class=\"container\">\n    <canvas id=\"myCanvas\" @click=\"click\"></canvas>\n    <div class=\"game-panel\">\n      <div>第{{ step }}关</div>\n      <div>目标分数： {{targetSource}}</div>\n      <div>当前分数： {{currentSource}}</div>\n      <div class=\"tip\" v-if=\"showTip\">消除{{clearCount}}个，获得{{source}}分</div>\n      <div class=\"tip\" v-show=\"showStepOverTip\">剩余{{lessCount}}个，奖励{{stepOverSource}}分</div>\n    </div>\n    <div v-if=\"over\" class=\"game-over\">\n      <div class=\"over-text\">游戏结束</div>\n      <div class=\"restart\" @click=\"restartGame\">重新开始</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport _ from 'underscore'\n\nexport default {\n  name: 'HelloWorld',\n  data () {\n    return {\n      x: 20,\n      y: 120,\n      blockColors: {},\n      colors: ['#b23aee', '#ff7f24', '#0000ff', '#008000'],\n      currentSource: 0,\n      targetSource: 1500,\n      step: 1,\n      showTip: false,\n      clearCount: 0,\n      source: 0,\n      showStepOverTip: false,\n      lessCount: 0,\n      stepOverSource: 0,\n      over: false\n    }\n  },\n  mounted () {\n    console.warn('Design by Kody Wang, Thank you, play my game!')\n    let width = window.innerWidth\n    let height = window.innerHeight\n    this.x = (width - 320) / 2\n    this.y = (height - 320) / 2\n    this.canvas = document.getElementById('myCanvas')\n    this.ctx = this.canvas.getContext('2d')\n    this.canvas.width = width\n    this.canvas.height = height\n    this.ctx.fillStyle = '#FFF8DC'\n    this.ctx.fillRect(0, 0, width, height)\n    this.init()\n  },\n  methods: {\n    click (e) {\n      let x = parseInt((e.clientX - this.x) / 32)\n      let y = parseInt(parseInt((e.clientY - this.y) / 32))\n      if (x < 0 || x > 9 || y < 0 || y > 9) {\n        return\n      }\n      let index = parseInt(y + '' + x)\n      if (_.has(this.blockColors, index)) {\n        this.getNeedCleanBlock(index, [index])\n        setTimeout(() => {\n          if (this.needCleanBlock.length >= 2) {\n            this.clearing(this.needCleanBlock)\n          }\n        }, 300)\n      }\n    },\n    clearing (needCleanBlock) {\n      this.xx = 1\n      this.yy = 3\n      for (const key of needCleanBlock) {\n        this.ctx.clearRect(this.x + (parseInt(key % 10) * 32), this.y + (parseInt(key / 10) * 32), 30, 30)\n        delete this.blockColors[key]\n      }\n      this.addSource(needCleanBlock)\n      setTimeout(() => {\n        this.blockDown(needCleanBlock)\n        window.requestAnimationFrame(this.draw)\n      }, 300)\n    },\n    draw () {\n      this.ctx.clearRect(0, 0, window.innerWidth, window.innerHeight)\n\n      this.ctx.fillStyle = '#FFF8DC'\n      this.ctx.fillRect(0, 0, window.innerWidth, window.innerHeight)\n\n      this.ctx.strokeStyle = '#ccc'\n      this.ctx.rect(this.x, this.y, 320, 320)\n      this.ctx.stroke()\n\n      for (const i in _.range(10)) {\n        for (const j in _.range(10)) {\n          let index = parseInt(i + j)\n          if (_.has(this.blockColors, index)) {\n            this.ctx.fillStyle = this.blockColors[index]\n            // this.blockColors[index] = this.ctx.fillStyle\n            this.ctx.fillRect(this.x + (j * 32), this.y + (i * 32), 30, 30)\n          }\n        }\n      }\n    },\n    addSource (needCleanBlock) {\n      let num = needCleanBlock.length\n      this.source = num * num * 5\n      this.clearCount = num\n      this.showTip = true\n      this.currentSource += this.source\n    },\n    blockDown (needCleanBlock) {\n      let colBlock = _.groupBy(needCleanBlock, num => {\n        return num % 10\n      })\n      for (const col in colBlock) {\n        let colCleanValue = colBlock[col]\n        let colMax = _.max(colCleanValue)\n        let colValue = []\n        for (let i = colMax; i >= 0; i -= 10) {\n          colValue.push(i)\n        }\n        let needDownBlocks = _.difference(colValue, colCleanValue)\n        for (const index of colValue) {\n          if (!_.isEmpty(needDownBlocks)) {\n            let needDownIndex = needDownBlocks.shift()\n            if (_.has(this.blockColors, needDownIndex)) {\n              let color = this.blockColors[needDownIndex]\n              this.blockColors[index] = color\n              this.ctx.fillStyle = color\n              this.ctx.fillRect(this.x + (parseInt(index % 10) * 32), this.y + (parseInt(index / 10) * 32), 30, 30)\n            } else {\n              this.ctx.clearRect(this.x + (parseInt(index % 10) * 32), this.y + (parseInt(index / 10) * 32), 30, 30)\n              delete this.blockColors[index]\n            }\n          } else {\n            this.ctx.clearRect(this.x + (parseInt(index % 10) * 32), this.y + (parseInt(index / 10) * 32), 30, 30)\n            delete this.blockColors[index]\n          }\n        }\n      }\n      this.leftMove()\n    },\n    leftMove () {\n      let colBlock = _.groupBy(this.blockColors, (color, index) => {\n        return index % 10\n      })\n      if (_.size(colBlock) < 10) {\n        let leftMoveCols = []\n        for (let i of _.range(10)) {\n          if (!_.has(colBlock, i)) {\n            leftMoveCols.push(i)\n          }\n        }\n        leftMoveCols = _.sortBy(leftMoveCols, num => {\n          return -num\n        })\n        for (let index of leftMoveCols) {\n          for (let col = index + 1; col <= 9; col++) {\n            for (let colIndex of _.range(col, 100, 10)) {\n              if (_.has(this.blockColors, colIndex)) {\n                let color = this.blockColors[colIndex]\n                let lastIndex = colIndex - 1\n                this.blockColors[lastIndex] = color\n                this.ctx.fillStyle = color\n                this.ctx.fillRect(this.x + (parseInt(lastIndex % 10) * 32), this.y + (parseInt(lastIndex / 10) * 32), 30, 30)\n                this.ctx.clearRect(this.x + (parseInt(colIndex % 10) * 32), this.y + (parseInt(colIndex / 10) * 32), 30, 30)\n                delete this.blockColors[colIndex]\n              }\n            }\n          }\n        }\n      }\n      this.checkIsCanClear()\n    },\n    checkIsCanClear () {\n      for (const key in this.blockColors) {\n        if (this.hasNearbyBlock(key)) {\n          return\n        }\n      }\n      this.gameOver()\n    },\n    hasNearbyBlock (index) {\n      let color = this.blockColors[index]\n      let hasNearby = false\n      if (parseInt((index + 1) / 10) === parseInt(index / 10) && color === this.blockColors[index + 1]) {\n        hasNearby = true\n      }\n      if (parseInt((index - 1) / 10) === parseInt(index / 10) && color === this.blockColors[index - 1]) {\n        hasNearby = true\n      }\n      if (color === this.blockColors[index + 10]) {\n        hasNearby = true\n      }\n      if (color === this.blockColors[index - 10]) {\n        hasNearby = true\n      }\n      return hasNearby\n    },\n    getNeedCleanBlock (index, needCleanBlock) {\n      let color = this.blockColors[index]\n      let hasNeedClearBlock = false\n      if (parseInt((index + 1) / 10) === parseInt(index / 10) && _.indexOf(needCleanBlock, index + 1) === -1 && color === this.blockColors[index + 1]) {\n        hasNeedClearBlock = true\n        needCleanBlock.push(index + 1)\n        setTimeout(() => {\n          this.getNeedCleanBlock(index + 1, needCleanBlock)\n        }, 0)\n      }\n      if (parseInt((index - 1) / 10) === parseInt(index / 10) && _.indexOf(needCleanBlock, index - 1) === -1 && color === this.blockColors[index - 1]) {\n        hasNeedClearBlock = true\n        needCleanBlock.push(index - 1)\n        setTimeout(() => {\n          this.getNeedCleanBlock(index - 1, needCleanBlock)\n        }, 0)\n      }\n      if (_.indexOf(needCleanBlock, index + 10) === -1 && color === this.blockColors[index + 10]) {\n        hasNeedClearBlock = true\n        needCleanBlock.push(index + 10)\n        setTimeout(() => {\n          this.getNeedCleanBlock(index + 10, needCleanBlock)\n        }, 0)\n      }\n      if (_.indexOf(needCleanBlock, index - 10) === -1 && color === this.blockColors[index - 10]) {\n        hasNeedClearBlock = true\n        needCleanBlock.push(index - 10)\n        setTimeout(() => {\n          this.getNeedCleanBlock(index - 10, needCleanBlock)\n        }, 0)\n      }\n      if (!hasNeedClearBlock) {\n        this.needCleanBlock = needCleanBlock\n        return needCleanBlock\n      }\n    },\n    startGame () {\n      this.ctx.strokeStyle = '#ccc'\n      this.ctx.rect(this.x, this.y, 320, 320)\n\n      for (const i in _.range(10)) {\n        for (const j in _.range(10)) {\n          let index = parseInt(i + j)\n          this.ctx.fillStyle = _.sample(this.colors)\n          this.blockColors[index] = this.ctx.fillStyle\n          this.ctx.fillRect(this.x + (j * 32), this.y + (i * 32), 30, 30)\n        }\n      }\n      this.ctx.stroke()\n      this.ctx.beginPath()\n    },\n    restartGame () {\n      this.currentSource = 0\n      this.step = 1\n      this.targetSource = 1500\n      this.showStepOverTip = false\n      this.over = false\n      this.startGame()\n    },\n    gameOver () {\n      this.lessCount = _.size(this.blockColors)\n      this.stepOverSource = this.lessCount > 10 ? 0 : (10 - this.lessCount) * 100\n      this.showStepOverTip = true\n      this.currentSource += this.stepOverSource\n      if (this.currentSource < this.targetSource) {\n        this.over = true\n      } else {\n        this.step += 1\n        this.targetSource = 1500 + (this.step - 1) * 3000\n        setTimeout(() => {\n          this.showStepOverTip = false\n          this.startGame()\n        }, 2000)\n      }\n    },\n    init () {\n      this.startGame()\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.container {\n  overflow: hidden;\n}\n\n.game-over {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  text-align: center;\n}\n\n.game-panel {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  text-align: center;\n}\n\n.tip {\n  color: tomato;\n}\n\n.over-text {\n  margin-top: 150px;\n  font-weight: bold;\n  animation: over-animation 2s linear .1s infinite alternate;\n}\n\n.restart {\n  margin-top: 30px;\n  padding: 10px 15px;\n  background-color: tomato;\n  border-radius: 15px;\n  display: inline-block;\n  color: #fff;\n}\n\n@keyframes over-animation {\n  from {font-size: 15px;}\n  to {font-size: 25px;}\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HelloWorld.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('canvas',{attrs:{\"id\":\"myCanvas\"},on:{\"click\":_vm.click}}),_vm._v(\" \"),_c('div',{staticClass:\"game-panel\"},[_c('div',[_vm._v(\"第\"+_vm._s(_vm.step)+\"关\")]),_vm._v(\" \"),_c('div',[_vm._v(\"目标分数： \"+_vm._s(_vm.targetSource))]),_vm._v(\" \"),_c('div',[_vm._v(\"当前分数： \"+_vm._s(_vm.currentSource))]),_vm._v(\" \"),(_vm.showTip)?_c('div',{staticClass:\"tip\"},[_vm._v(\"消除\"+_vm._s(_vm.clearCount)+\"个，获得\"+_vm._s(_vm.source)+\"分\")]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showStepOverTip),expression:\"showStepOverTip\"}],staticClass:\"tip\"},[_vm._v(\"剩余\"+_vm._s(_vm.lessCount)+\"个，奖励\"+_vm._s(_vm.stepOverSource)+\"分\")])]),_vm._v(\" \"),(_vm.over)?_c('div',{staticClass:\"game-over\"},[_c('div',{staticClass:\"over-text\"},[_vm._v(\"游戏结束\")]),_vm._v(\" \"),_c('div',{staticClass:\"restart\",on:{\"click\":_vm.restartGame}},[_vm._v(\"重新开始\")])]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-44d6cabc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-44d6cabc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HelloWorld.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-44d6cabc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-44d6cabc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport HelloWorld from '@/components/HelloWorld'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'HelloWorld',\n      component: HelloWorld\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}